В задании сказано:

> Написать грамматику по словестному описанию

По этому я не очень понял, нужно ли самому руками писать парсер и токенайзер и воспользовался библиотекой antlr которая по вручную написанной грамматике построила эти компоненты. Тем не менее, на случай если нужно было в ручную писать парсер и токенайзер, [вот]() одно из вузовских д/з с написанным вручную разбором выражений (правда, на java, но разница не велика).

В мой код стоит добавить нормальную обработку ошибок с сохранением узла ошибки (а не `throw` чего-то встроенного при 1 ошибке). Так же добавить `switch` на `stloc_0`, ... Для ускорения нужно преобразовать массивы аргументов и локальных значений в `Dictionary`. Помимо это токенайзер не умеет читать `Int64.MIN_VALUE`.

Еще одним заданием практики я выбрал "верификацию контрактов в kotlin". Там реализован следующий функционал статического анализа:

* проверка что читаемая переменная инициализирована
* проверка что все пути возвращают/не возвращают значение.

Из-за нехватки времени я не успею переписать все для этого парсера. Вот та [репозитория](https://gitlab.com/kirilll.prokopenko/contracts-verification-task-solution/-/tree/master).

Дополнительные задания:

1. сделано (статичексие методы из класса)
2.  сделано (статические переменные из класса)
3.  добавлена поддержка нескольких функций (из-за этого компилируется в класс, а не DynamicMethod), есть функции и процедуры. Локальные переменные в начале каждой функции. Присвоения, вызов процедур, проверка возврата. Добавлены операторы сравнения и ленивые `&&` и `||`. Типа bool нет, он работает через long, поскольку иначе пришлось бы добавлять типы переменным, а это долго. Добавлено ветвление с необязательным блоком `else`.

Для проверки типов выражений было бы нужно возвращать `Type`, а не `bool` как для проверки на `void`.